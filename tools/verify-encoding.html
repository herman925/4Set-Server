<!DOCTYPE html>
<html>
<head>
  <title>URL Encoding Verification</title>
  <style>
    body { font-family: monospace; padding: 20px; background: #1e1e1e; color: #d4d4d4; }
    .test { margin: 20px 0; padding: 20px; background: #252526; border-left: 4px solid #007acc; }
    .correct { border-left-color: #4ec9b0; }
    .wrong { border-left-color: #f48771; }
  </style>
</head>
<body>
  <h1>üî¨ URL Encoding Verification</h1>
  
  <div class="test">
    <h3>Test: encodeURIComponent(JSON.stringify(filter))</h3>
    <p id="result"></p>
  </div>

  <script>
    const filter = {"3:eq": "11097_20250904_11_34"};
    const encoded = encodeURIComponent(JSON.stringify(filter));
    
    const expected = '%7B%223%3Aeq%22%3A%2211097_20250904_11_34%22%7D';
    
    document.getElementById('result').innerHTML = `
      <strong>Raw Filter:</strong><br>
      ${JSON.stringify(filter)}<br><br>
      
      <strong>Encoded Result:</strong><br>
      <code style="color: #ce9178">${encoded}</code><br><br>
      
      <strong>Expected (Jotform format):</strong><br>
      <code style="color: #4ec9b0">${expected}</code><br><br>
      
      <strong>Match:</strong> ${encoded === expected ? '‚úÖ CORRECT' : '‚ùå WRONG'}<br><br>
      
      <strong>Character-by-character comparison:</strong><br>
      ${encoded === expected ? 
        '<span style="color: #4ec9b0">‚úÖ Encoding is PERFECT!</span>' : 
        '<span style="color: #f48771">‚ùå Encoding MISMATCH</span>'}
    `;
    
    console.log('Raw filter:', JSON.stringify(filter));
    console.log('Encoded:', encoded);
    console.log('Expected:', expected);
    console.log('Match:', encoded === expected);
  </script>
</body>
</html>
